<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <body>

        <ui:composition template="./../../resources/plantillampc.xhtml">

            <ui:define name="main">
                <f:view>
                    <div class="row sin-margen caja miga">
                        <div class="col-xs-12 col-sm-6">
                            <ol class="breadcrumb">
                                <li><a href="inicio.html"><i class="mpc-home"></i>Inicio</a></li>
                                <li class="active"><i class="mpc-list-alt"></i>Lista de vehículos</li>
                            </ol>
                        </div>
                        <div class="col-xs-12 col-sm-6 titulo-pagina">
                            <h1>Vehículos</h1>
                            <div class="dash-titulo"></div>
                            <div class="informacion-titular">
                                <p class="letra success">4 Disponible</p>
                                <p class="letra warning">3 En revisión</p>
                                <p class="letra danger">2 En mantenimiento</p>
                            </div>
                        </div>
                        <div class="col-xs-12 start-xs cuadro-interaccion">
                            <a href="registrar_vehiculo.xhtml" class="btn btn-primary"><i class="mpc-plus"></i>Registrar Vehículo</a>
                        </div>
                    </div>
                    <!-- Contenido -->
                    <div class="row tablas">
                        <div class="col-xs-12">
                            <div class="panel panel-default panel-table">
                                <div class="panel-body table-responsive">
                                    <table id="vehiculos" class="table table-striped table-condensed">
                                        <thead>
                                            <tr>
                                                <th>Matricula</th>
                                                <th>Estado</th>
                                                <th>Marca</th>
                                                <th>Modelo</th>
                                                <th>Color</th>
                                                <th>Kilometraje</th>
                                                <th>Combustible</th>
                                                <th>Numero de chasis</th>
                                                <th>Tonelaje Maximo</th>
                                                <th>Cilindraje</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <ui:repeat value="#{vehiculoManagedBean.listar()}" var="item">
                                            <tbody>
                                                <tr>
                                                    <td>#{item.matricula}</td>
                                                    <td>#{item.idEstadoVehiculo.nombreEstadoVehiuclo}</td>
                                                    <td>#{item.marca}</td>
                                                    <td>#{item.modelo}</td>
                                                    <td>#{item.color}</td>
                                                    <td>#{item.kilometraje}</td>
                                                    <td>#{item.combustible}</td>
                                                    <td>#{item.numeroChasis}</td>
                                                    <td>#{item.tonelajeMax}</td>
                                                    <td>#{item.cilindraje}</td>
                                                </tr>

                                            </tbody>
                                        </ui:repeat>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </f:view>
                <h:outputScript name="js/jquery-dist.js"/>
                <h:outputScript name="js/boostrap-dist.js"/>
                <h:outputScript name="js/jquery-datatables-dist.js"/>
                <h:outputScript name="js/dataTables-boostrap-dist.js"/>
                <h:outputScript name="js/core-dist.js"/>
                <h:outputScript name="js/framework/button-table.js"/>
                <h:outputScript name="text/javascript"/>
                <script>
                    $('td:last-child').parent().append('<td><a href="ficha_tecnica.xhtml" class="mpc-eye" data-toggle="ver-vehiculo" data-placement="top" title="Ver ficha tecnica"></a></td>');

                    $('[data-toggle="ver-vehiculo"]').tooltip();

                    $('#vehiculos').DataTable({
                        "pageLength": 25,
                        dom: 'Bfrtip',
                        buttons: [
                            {
                                extend: 'excelHtml5',
                                title: 'Lista Vehículos'
                            },
                            {
                                extend: 'pdfHtml5',
                                message: 'Lista de vehículos registrados hasta la fecha.',
                                alignment: 'center',
                                title: 'Lista Vehículos'
                            }
                        ]
                    });
                </script>

            </ui:define>

        </ui:composition>

    </body>
</html>
